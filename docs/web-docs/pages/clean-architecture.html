<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clean Architecture - Tech Challenge Restaurant</title>
    <link rel="stylesheet" href="../css/main.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>ğŸ“š DocumentaÃ§Ã£o</h2>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">InÃ­cio</div>
                <a href="../index.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ </span>
                    Home
                </a>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">ConfiguraÃ§Ã£o</div>
                <a href="prerequisites.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ“‹</span>
                    PrÃ©-requisitos
                </a>
                <a href="local-setup.html" class="nav-item">
                    <span class="nav-item-icon">âš™ï¸</span>
                    ConfiguraÃ§Ã£o Local
                </a>
                <a href="docker.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ³</span>
                    Docker
                </a>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">MicroserviÃ§os</div>
                <a href="restaurants.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ½ï¸</span>
                    Restaurants API
                </a>
                <a href="user-microservice.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ‘¤</span>
                    Users Microservice
                </a>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">Ferramentas</div>
                <a href="postman.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ“¡</span>
                    Postman Collections
                </a>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">Arquitetura</div>
                <a href="architecture-overview.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ—ï¸</span>
                    VisÃ£o Geral
                </a>
                <a href="api-overview.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ”—</span>
                    API Overview
                </a>
                <a href="data-modeling.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ—„ï¸</span>
                    Modelagem de Dados
                </a>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">Recursos</div>
                <a href="menu-items.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ•</span>
                    Menu Items
                </a>
                <a href="menu-categories.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ“‚</span>
                    Menu Categories
                </a>
                <a href="kitchen-types.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ‘¨â€ğŸ³</span>
                    Kitchen Types
                </a>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">Desenvolvimento</div>
                <a href="testing.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ§ª</span>
                    Testes
                </a>
                <a href="status-codes.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ“Š</span>
                    Status Codes
                </a>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">Sobre</div>
                <a href="author.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ‘¨â€ğŸ’»</span>
                    Autor
                </a>
                <a href="license.html" class="nav-item">
                    <span class="nav-item-icon">ğŸ“„</span>
                    LicenÃ§a
                </a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <h1>ğŸ¯ Clean Architecture</h1>
                <p>Arquitetura limpa e organizada seguindo os princÃ­pios de Robert C. Martin</p>
            </header>

            <nav class="breadcrumb">
                <a href="../index.html">Home</a>
                <span class="breadcrumb-separator">/</span>
                <span>Clean Architecture</span>
            </nav>

            <div class="content-body">
                <!-- Overview Section -->
                <div class="card">
                    <h2>ğŸ“‹ VisÃ£o Geral da Clean Architecture</h2>
                    <p>
                        O Tech Challenge Restaurant implementa os princÃ­pios da Clean Architecture 
                        propostos por Robert C. Martin (Uncle Bob), organizando o cÃ³digo em camadas 
                        bem definidas com responsabilidades claras e dependÃªncias direcionadas.
                    </p>
                    
                    <div class="feature-cards">
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ—ï¸</div>
                            <h3 class="feature-card-title">SeparaÃ§Ã£o de Responsabilidades</h3>
                            <p class="feature-card-description">
                                Cada camada tem uma responsabilidade especÃ­fica e bem definida, 
                                facilitando manutenÃ§Ã£o e testes.
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ”„</div>
                            <h3 class="feature-card-title">InversÃ£o de DependÃªncias</h3>
                            <p class="feature-card-description">
                                DependÃªncias apontam para dentro, com regras de negÃ³cio independentes 
                                de frameworks externos.
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ§ª</div>
                            <h3 class="feature-card-title">Testabilidade</h3>
                            <p class="feature-card-description">
                                Arquitetura que facilita a criaÃ§Ã£o de testes unitÃ¡rios e de integraÃ§Ã£o 
                                isolados.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Architecture Layers -->
                <div class="card">
                    <h2>ğŸ›ï¸ Camadas da Arquitetura</h2>
                    <p>
                        A aplicaÃ§Ã£o estÃ¡ organizada em quatro camadas principais, cada uma com 
                        responsabilidades especÃ­ficas e regras de dependÃªncia bem definidas.
                    </p>
                    
                    <div class="feature-cards">
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ¯</div>
                            <h3 class="feature-card-title">Domain Layer</h3>
                            <p class="feature-card-description">
                                Regras de negÃ³cio centrais, entidades e casos de uso. 
                                NÃ£o depende de nenhuma outra camada.
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ”§</div>
                            <h3 class="feature-card-title">Application Layer</h3>
                            <p class="feature-card-description">
                                OrquestraÃ§Ã£o de casos de uso, coordenaÃ§Ã£o entre entidades 
                                e regras de aplicaÃ§Ã£o.
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸŒ</div>
                            <h3 class="feature-card-title">Infrastructure Layer</h3>
                            <p class="feature-card-description">
                                ImplementaÃ§Ãµes concretas: controllers, repositÃ³rios, 
                                configuraÃ§Ãµes e adaptadores externos.
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ¨</div>
                            <h3 class="feature-card-title">Presentation Layer</h3>
                            <p class="feature-card-description">
                                Interface com usuÃ¡rios e sistemas externos, 
                                controllers REST e DTOs.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Domain Layer -->
                <div class="card">
                    <h2>ğŸ¯ Domain Layer - NÃºcleo da AplicaÃ§Ã£o</h2>
                    <p>
                        A camada de domÃ­nio contÃ©m as regras de negÃ³cio centrais e nÃ£o depende 
                        de nenhuma outra camada. Ã‰ o coraÃ§Ã£o da aplicaÃ§Ã£o.
                    </p>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <span>Estrutura do Domain Layer</span>
                        </div>
                        <pre><code>src/main/java/com/fiap/itmoura/tech_challenge_restaurant/domain/
â”œâ”€â”€ entities/                    # Entidades de domÃ­nio
â”‚   â”œâ”€â”€ RestaurantEntity.java
â”‚   â”œâ”€â”€ KitchenTypeEntity.java
â”‚   â”œâ”€â”€ MenuCategoryEntity.java
â”‚   â”œâ”€â”€ MenuItemEntity.java
â”‚   â””â”€â”€ OperationDaysTimeData.java
â”œâ”€â”€ exceptions/                  # ExceÃ§Ãµes de domÃ­nio
â”‚   â”œâ”€â”€ RestaurantNotFoundException.java
â”‚   â”œâ”€â”€ KitchenTypeNotFoundException.java
â”‚   â””â”€â”€ InvalidOperationException.java
â””â”€â”€ valueobjects/               # Objetos de valor
    â”œâ”€â”€ Address.java
    â”œâ”€â”€ Price.java
    â””â”€â”€ TimeRange.java</code></pre>
                    </div>
                    
                    <h3>ğŸ“‹ CaracterÃ­sticas do Domain Layer</h3>
                    <ul>
                        <li><strong>IndependÃªncia Total:</strong> NÃ£o depende de frameworks, bibliotecas ou outras camadas</li>
                        <li><strong>Regras de NegÃ³cio:</strong> ContÃ©m toda a lÃ³gica de negÃ³cio da aplicaÃ§Ã£o</li>
                        <li><strong>Entidades Ricas:</strong> Entidades com comportamento e validaÃ§Ãµes</li>
                        <li><strong>Imutabilidade:</strong> Objetos de valor imutÃ¡veis para garantir consistÃªncia</li>
                    </ul>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <span>Exemplo: RestaurantEntity - Entidade de DomÃ­nio</span>
                        </div>
                        <pre><code>@Document(collection = "restaurants")
@Data
@AllArgsConstructor
@NoArgsConstructor
@Builder
public class RestaurantEntity {

    @Id
    private String id;
    private String name;
    private String address;
    private KitchenTypeEntity kitchenType;
    private List&lt;OperationDaysTimeData&gt; daysOperation;
    private String ownerId;
    private Boolean isActive;
    private List&lt;MenuCategoryEntity&gt; menu;

    @LastModifiedDate
    private LocalDateTime lastUpdate;
    
    @CreatedDate
    private LocalDateTime createdAt;

    // MÃ©todos de negÃ³cio
    public boolean isOpenOnDay(DayEnum day) {
        return daysOperation.stream()
            .anyMatch(operation -&gt; operation.getDay() == day);
    }

    public boolean hasActiveMenu() {
        return menu != null && !menu.isEmpty() && 
               menu.stream().anyMatch(category -&gt; 
                   category.getItems().stream()
                       .anyMatch(MenuItemEntity::getIsActive));
    }
}</code></pre>
                    </div>
                </div>

                <!-- Application Layer -->
                <div class="card">
                    <h2>ğŸ”§ Application Layer - Casos de Uso</h2>
                    <p>
                        A camada de aplicaÃ§Ã£o orquestra os casos de uso, coordenando as entidades 
                        de domÃ­nio e definindo as regras de aplicaÃ§Ã£o.
                    </p>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <span>Estrutura do Application Layer</span>
                        </div>
                        <pre><code>src/main/java/com/fiap/itmoura/tech_challenge_restaurant/application/
â”œâ”€â”€ usecases/                   # Casos de uso da aplicaÃ§Ã£o
â”‚   â”œâ”€â”€ RestaurantUseCase.java
â”‚   â”œâ”€â”€ KitchenTypeUseCase.java
â”‚   â””â”€â”€ MenuUseCase.java
â”œâ”€â”€ ports/                      # Interfaces (Ports)
â”‚   â”œâ”€â”€ in/                     # Ports de entrada
â”‚   â”‚   â”œâ”€â”€ RestaurantUseCase.java
â”‚   â”‚   â””â”€â”€ KitchenTypeUseCase.java
â”‚   â””â”€â”€ out/                    # Ports de saÃ­da
â”‚       â”œâ”€â”€ RestaurantRepository.java
â”‚       â””â”€â”€ KitchenTypeRepository.java
â””â”€â”€ dtos/                       # Objetos de transferÃªncia
    â”œâ”€â”€ RestaurantRequest.java
    â”œâ”€â”€ RestaurantResponse.java
    â””â”€â”€ KitchenTypeRequest.java</code></pre>
                    </div>
                    
                    <h3>ğŸ“‹ CaracterÃ­sticas do Application Layer</h3>
                    <ul>
                        <li><strong>Casos de Uso:</strong> Implementa as operaÃ§Ãµes especÃ­ficas da aplicaÃ§Ã£o</li>
                        <li><strong>OrquestraÃ§Ã£o:</strong> Coordena entidades e regras de negÃ³cio</li>
                        <li><strong>Ports e Adapters:</strong> Define interfaces para comunicaÃ§Ã£o com outras camadas</li>
                        <li><strong>DTOs:</strong> Objetos de transferÃªncia para comunicaÃ§Ã£o entre camadas</li>
                    </ul>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <span>Exemplo: RestaurantUseCase - Caso de Uso</span>
                        </div>
                        <pre><code>@Service
@Slf4j
public class RestaurantUseCase {

    private final RestaurantRepository restaurantRepository;
    private final KitchenTypeRepository kitchenTypeRepository;

    public RestaurantUseCase(RestaurantRepository restaurantRepository,
                           KitchenTypeRepository kitchenTypeRepository) {
        this.restaurantRepository = restaurantRepository;
        this.kitchenTypeRepository = kitchenTypeRepository;
    }

    public RestaurantFullResponse createRestaurant(RestaurantRequest request) {
        log.info("Criando restaurante: {}", request.getName());
        
        // ValidaÃ§Ã£o de negÃ³cio
        KitchenTypeEntity kitchenType = kitchenTypeRepository.findById(request.getKitchenTypeId())
            .orElseThrow(() -&gt; new KitchenTypeNotFoundException("Kitchen type not found"));
        
        // CriaÃ§Ã£o da entidade
        RestaurantEntity restaurant = RestaurantEntity.builder()
            .name(request.getName())
            .address(request.getAddress())
            .kitchenType(kitchenType)
            .daysOperation(request.getDaysOperation())
            .ownerId(request.getOwnerId())
            .isActive(true)
            .menu(new ArrayList&lt;&gt;())
            .build();
        
        // PersistÃªncia
        RestaurantEntity savedRestaurant = restaurantRepository.save(restaurant);
        
        log.info("Restaurante criado com sucesso: {}", savedRestaurant.getId());
        return RestaurantFullResponse.fromEntity(savedRestaurant);
    }
}</code></pre>
                    </div>
                </div>

                <!-- Infrastructure Layer -->
                <div class="card">
                    <h2>ğŸŒ Infrastructure Layer - ImplementaÃ§Ãµes</h2>
                    <p>
                        A camada de infraestrutura contÃ©m as implementaÃ§Ãµes concretas dos adaptadores, 
                        repositÃ³rios e configuraÃ§Ãµes externas.
                    </p>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <span>Estrutura do Infrastructure Layer</span>
                        </div>
                        <pre><code>src/main/java/com/fiap/itmoura/tech_challenge_restaurant/infrastructure/
â”œâ”€â”€ controllers/                # Controllers REST
â”‚   â”œâ”€â”€ RestaurantController.java
â”‚   â”œâ”€â”€ KitchenTypeController.java
â”‚   â””â”€â”€ MenuController.java
â”œâ”€â”€ persistence/                # ImplementaÃ§Ãµes de repositÃ³rios
â”‚   â”œâ”€â”€ RestaurantRepositoryImpl.java
â”‚   â”œâ”€â”€ KitchenTypeRepositoryImpl.java
â”‚   â””â”€â”€ MongoConfig.java
â”œâ”€â”€ config/                     # ConfiguraÃ§Ãµes
â”‚   â”œâ”€â”€ MongoConfig.java
â”‚   â”œâ”€â”€ SwaggerConfig.java
â”‚   â””â”€â”€ SecurityConfig.java
â””â”€â”€ adapters/                   # Adaptadores externos
    â”œâ”€â”€ EmailAdapter.java
    â”œâ”€â”€ PaymentAdapter.java
    â””â”€â”€ NotificationAdapter.java</code></pre>
                    </div>
                    
                    <h3>ğŸ“‹ CaracterÃ­sticas do Infrastructure Layer</h3>
                    <ul>
                        <li><strong>ImplementaÃ§Ãµes Concretas:</strong> ContÃ©m todas as implementaÃ§Ãµes reais</li>
                        <li><strong>Frameworks Externos:</strong> Spring Boot, MongoDB, etc.</li>
                        <li><strong>Adaptadores:</strong> ComunicaÃ§Ã£o com sistemas externos</li>
                        <li><strong>ConfiguraÃ§Ãµes:</strong> Setup de beans e configuraÃ§Ãµes</li>
                    </ul>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <span>Exemplo: RestaurantController - Controller REST</span>
                        </div>
                        <pre><code>@RestController
@RequestMapping("/api/restaurants")
@Tag(name = "Restaurants", description = "API para gerenciamento de restaurantes")
@Slf4j
public class RestaurantController {

    private final RestaurantUseCase restaurantUseCase;

    public RestaurantController(RestaurantUseCase restaurantUseCase) {
        this.restaurantUseCase = restaurantUseCase;
    }

    @PostMapping
    @Operation(summary = "Criar restaurante", description = "Cria um novo restaurante")
    public ResponseEntity&lt;RestaurantFullResponse&gt; createRestaurant(
            @Valid @RequestBody RestaurantRequest request) {
        
        log.info("Recebida requisiÃ§Ã£o para criar restaurante: {}", request.getName());
        
        RestaurantFullResponse response = restaurantUseCase.createRestaurant(request);
        
        return ResponseEntity.status(HttpStatus.CREATED)
            .body(response);
    }

    @GetMapping("/{id}")
    @Operation(summary = "Buscar restaurante por ID")
    public ResponseEntity&lt;RestaurantFullResponse&gt; getRestaurantById(
            @PathVariable String id) {
        
        RestaurantFullResponse response = restaurantUseCase.getRestaurantById(id);
        return ResponseEntity.ok(response);
    }
}</code></pre>
                    </div>
                </div>

                <!-- Dependency Flow -->
                <div class="card">
                    <h2>ğŸ”„ Fluxo de DependÃªncias</h2>
                    <p>
                        A Clean Architecture define um fluxo de dependÃªncias bem especÃ­fico, 
                        onde as dependÃªncias apontam sempre para dentro, em direÃ§Ã£o ao domÃ­nio.
                    </p>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <span>Regra de DependÃªncias</span>
                        </div>
                        <pre><code>Presentation Layer â†’ Application Layer â†’ Domain Layer
Infrastructure Layer â†’ Application Layer â†’ Domain Layer

# Nenhuma camada externa pode depender de camadas internas
# Domain Layer nÃ£o depende de nenhuma outra camada
# Application Layer sÃ³ depende do Domain Layer
# Infrastructure Layer implementa interfaces do Application Layer</code></pre>
                    </div>
                    
                    <h3>ğŸ“Š Diagrama de DependÃªncias</h3>
                    <div class="code-block">
                        <div class="code-header">
                            <span>Estrutura de DependÃªncias</span>
                        </div>
                        <pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Presentation Layer                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   Controllers   â”‚  â”‚      DTOs       â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Application Layer                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   Use Cases     â”‚  â”‚     Ports       â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Domain Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚    Entities     â”‚  â”‚  Value Objects  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Infrastructure Layer                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  Repositories   â”‚  â”‚   Adapters      â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
                    </div>
                </div>

                <!-- Benefits -->
                <div class="card">
                    <h2>âœ… BenefÃ­cios da Clean Architecture</h2>
                    
                    <div class="feature-cards">
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ§ª</div>
                            <h3 class="feature-card-title">Testabilidade</h3>
                            <p class="feature-card-description">
                                Facilita a criaÃ§Ã£o de testes unitÃ¡rios isolados, 
                                com mocks e stubs bem definidos.
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ”§</div>
                            <h3 class="feature-card-title">Manutenibilidade</h3>
                            <p class="feature-card-description">
                                CÃ³digo organizado e responsabilidades claras 
                                facilitam manutenÃ§Ã£o e evoluÃ§Ã£o.
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ”„</div>
                            <h3 class="feature-card-title">Flexibilidade</h3>
                            <p class="feature-card-description">
                                MudanÃ§as em uma camada nÃ£o afetam outras, 
                                permitindo evoluÃ§Ã£o independente.
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ“š</div>
                            <h3 class="feature-card-title">Legibilidade</h3>
                            <p class="feature-card-description">
                                CÃ³digo auto-documentado com estrutura clara 
                                e fÃ¡cil de entender.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Implementation Examples -->
                <div class="card">
                    <h2>ğŸ’» Exemplos de ImplementaÃ§Ã£o</h2>
                    <p>
                        Exemplos prÃ¡ticos de como a Clean Architecture Ã© implementada 
                        no projeto Tech Challenge Restaurant.
                    </p>
                    
                    <h3>ğŸ¯ Ports (Interfaces)</h3>
                    <div class="code-block">
                        <div class="code-header">
                            <span>RestaurantRepository - Port de SaÃ­da</span>
                        </div>
                        <pre><code>public interface RestaurantRepository {
    RestaurantEntity save(RestaurantEntity restaurant);
    Optional&lt;RestaurantEntity&gt; findById(String id);
    List&lt;RestaurantEntity&gt; findAll();
    void deleteById(String id);
    boolean existsByKitchenTypeId(String kitchenTypeId);
}</code></pre>
                    </div>
                    
                    <h3>ğŸ”§ Adapters (ImplementaÃ§Ãµes)</h3>
                    <div class="code-block">
                        <div class="code-header">
                            <span>RestaurantRepositoryImpl - Adapter de PersistÃªncia</span>
                        </div>
                        <pre><code>@Repository
public class RestaurantRepositoryImpl implements RestaurantRepository {
    
    private final MongoTemplate mongoTemplate;
    
    public RestaurantRepositoryImpl(MongoTemplate mongoTemplate) {
        this.mongoTemplate = mongoTemplate;
    }
    
    @Override
    public RestaurantEntity save(RestaurantEntity restaurant) {
        return mongoTemplate.save(restaurant);
    }
    
    @Override
    public Optional&lt;RestaurantEntity&gt; findById(String id) {
        RestaurantEntity restaurant = mongoTemplate.findById(id, RestaurantEntity.class);
        return Optional.ofNullable(restaurant);
    }
}</code></pre>
                    </div>
                    
                    <h3>ğŸ¨ DTOs (Data Transfer Objects)</h3>
                    <div class="code-block">
                        <div class="code-header">
                            <span>RestaurantRequest - DTO de Entrada</span>
                        </div>
                        <pre><code>@Data
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class RestaurantRequest {
    
    @NotBlank(message = "Nome Ã© obrigatÃ³rio")
    private String name;
    
    @NotBlank(message = "EndereÃ§o Ã© obrigatÃ³rio")
    private String address;
    
    @NotBlank(message = "ID do tipo de cozinha Ã© obrigatÃ³rio")
    private String kitchenTypeId;
    
    @Valid
    @NotEmpty(message = "HorÃ¡rios de funcionamento sÃ£o obrigatÃ³rios")
    private List&lt;OperationDaysTimeData&gt; daysOperation;
    
    @NotBlank(message = "ID do proprietÃ¡rio Ã© obrigatÃ³rio")
    private String ownerId;
}</code></pre>
                    </div>
                </div>

                <!-- Best Practices -->
                <div class="card">
                    <h2>â­ Melhores PrÃ¡ticas</h2>
                    
                    <div class="feature-cards">
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ¯</div>
                            <h3 class="feature-card-title">Single Responsibility</h3>
                            <p class="feature-card-description">
                                Cada classe tem uma Ãºnica responsabilidade 
                                bem definida e focada.
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ”’</div>
                            <h3 class="feature-card-title">Dependency Inversion</h3>
                            <p class="feature-card-description">
                                Dependa de abstraÃ§Ãµes, nÃ£o de implementaÃ§Ãµes 
                                concretas.
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸš«</div>
                            <h3 class="feature-card-title">No Framework Dependencies</h3>
                            <p class="feature-card-description">
                                Domain e Application layers nÃ£o devem 
                                depender de frameworks.
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-card-icon">ğŸ“</div>
                            <h3 class="feature-card-title">Clear Interfaces</h3>
                            <p class="feature-card-description">
                                Interfaces bem definidas entre camadas 
                                facilitam testes e manutenÃ§Ã£o.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Testing Strategy -->
                <div class="card">
                    <h2>ğŸ§ª EstratÃ©gia de Testes</h2>
                    <p>
                        A Clean Architecture facilita a criaÃ§Ã£o de testes em diferentes nÃ­veis, 
                        desde testes unitÃ¡rios atÃ© testes de integraÃ§Ã£o.
                    </p>
                    
                    <h3>ğŸ“‹ Tipos de Testes</h3>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <span>Teste UnitÃ¡rio - Use Case</span>
                        </div>
                        <pre><code>@ExtendWith(MockitoExtension.class)
class RestaurantUseCaseTest {

    @Mock
    private RestaurantRepository restaurantRepository;
    
    @Mock
    private KitchenTypeRepository kitchenTypeRepository;
    
    @InjectMocks
    private RestaurantUseCase restaurantUseCase;
    
    @Test
    void shouldCreateRestaurantSuccessfully() {
        // Given
        RestaurantRequest request = createValidRequest();
        KitchenTypeEntity kitchenType = createKitchenType();
        
        when(kitchenTypeRepository.findById(any()))
            .thenReturn(Optional.of(kitchenType));
        when(restaurantRepository.save(any()))
            .thenAnswer(invocation -&gt; invocation.getArgument(0));
        
        // When
        RestaurantFullResponse response = restaurantUseCase.createRestaurant(request);
        
        // Then
        assertThat(response).isNotNull();
        assertThat(response.getName()).isEqualTo(request.getName());
        verify(restaurantRepository).save(any(RestaurantEntity.class));
    }
}</code></pre>
                    </div>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <span>Teste de IntegraÃ§Ã£o - Controller</span>
                        </div>
                        <pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@Testcontainers
class RestaurantControllerIntegrationTest {

    @Autowired
    private TestRestTemplate restTemplate;
    
    @Test
    void shouldCreateRestaurantViaApi() {
        // Given
        RestaurantRequest request = RestaurantRequest.builder()
            .name("Restaurante Teste")
            .address("Rua Teste, 123")
            .kitchenTypeId("kitchen-type-id")
            .daysOperation(createDaysOperation())
            .ownerId("owner-id")
            .build();
        
        // When
        ResponseEntity&lt;RestaurantFullResponse&gt; response = restTemplate
            .postForEntity("/api/restaurants", request, RestaurantFullResponse.class);
        
        // Then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.CREATED);
        assertThat(response.getBody()).isNotNull();
        assertThat(response.getBody().getName()).isEqualTo("Restaurante Teste");
    }
}</code></pre>
                    </div>
                </div>

                <!-- Migration Guide -->
                <div class="card">
                    <h2>ğŸ”„ Guia de MigraÃ§Ã£o</h2>
                    <p>
                        Como migrar cÃ³digo existente para seguir os princÃ­pios 
                        da Clean Architecture.
                    </p>
                    
                    <h3>ğŸ“‹ Passos para MigraÃ§Ã£o</h3>
                    <ol>
                        <li><strong>Identificar Regras de NegÃ³cio:</strong> Extrair lÃ³gica de negÃ³cio para o Domain Layer</li>
                        <li><strong>Criar Interfaces:</strong> Definir ports para comunicaÃ§Ã£o entre camadas</li>
                        <li><strong>Separar Responsabilidades:</strong> Mover cÃ³digo para camadas apropriadas</li>
                        <li><strong>Implementar Adapters:</strong> Criar implementaÃ§Ãµes concretas na Infrastructure Layer</li>
                        <li><strong>Refatorar DependÃªncias:</strong> Garantir que dependÃªncias apontem para dentro</li>
                        <li><strong>Adicionar Testes:</strong> Criar testes unitÃ¡rios para cada camada</li>
                    </ol>
                    
                    <h3>âš ï¸ Pontos de AtenÃ§Ã£o</h3>
                    <ul>
                        <li><strong>RefatoraÃ§Ã£o Gradual:</strong> Migre uma funcionalidade por vez</li>
                        <li><strong>Testes Existentes:</strong> Mantenha testes funcionando durante a migraÃ§Ã£o</li>
                        <li><strong>DocumentaÃ§Ã£o:</strong> Atualize documentaÃ§Ã£o conforme a arquitetura evolui</li>
                        <li><strong>Code Review:</strong> Revise mudanÃ§as para garantir aderÃªncia aos princÃ­pios</li>
                    </ul>
                </div>
            </div>
        </main>
    </div>
</body>
</html> 