<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configura√ß√£o Local - Tech Challenge Restaurant API</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçΩÔ∏è</text></svg>">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <a href="../" class="logo">
                    <span class="logo-icon">üçΩÔ∏è</span>
                    <div>
                        <div class="logo-text">Tech Challenge</div>
                        <div class="logo-subtitle">Restaurant API</div>
                    </div>
                </a>
            </div>
            
            <div class="nav-menu">
                <div class="nav-section">
                    <div class="nav-section-title">In√≠cio</div>
                    <a href="../" class="nav-item">
                        <span class="nav-item-icon">üè†</span>
                        Vis√£o Geral
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Instala√ß√£o</div>
                    <a href="prerequisites.html" class="nav-item">
                        <span class="nav-item-icon">üìã</span>
                        Pr√©-requisitos
                    </a>
                    <a href="local-setup.html" class="nav-item active">
                        <span class="nav-item-icon">‚öôÔ∏è</span>
                        Configura√ß√£o Local
                    </a>
                    <a href="docker.html" class="nav-item">
                        <span class="nav-item-icon">üê≥</span>
                        Docker
                    </a>
                    <a href="testing.html" class="nav-item">
                        <span class="nav-item-icon">üß™</span>
                        Testes
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">API Reference</div>
                    <a href="api-overview.html" class="nav-item">
                        <span class="nav-item-icon">üìö</span>
                        Vis√£o Geral
                    </a>
                    <a href="kitchen-types.html" class="nav-item">
                        <span class="nav-item-icon">üë®‚Äçüç≥</span>
                        Kitchen Types
                    </a>
                    <a href="restaurants.html" class="nav-item">
                        <span class="nav-item-icon">üè™</span>
                        Restaurants
                    </a>
                    <a href="menu-categories.html" class="nav-item">
                        <span class="nav-item-icon">üìÇ</span>
                        Menu Categories
                    </a>
                    <a href="menu-items.html" class="nav-item">
                        <span class="nav-item-icon">üçï</span>
                        Menu Items
                    </a>
                    <a href="status-codes.html" class="nav-item">
                        <span class="nav-item-icon">üìä</span>
                        Status Codes
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Microservi√ßos</div>
                    <a href="user-microservice.html" class="nav-item">
                        <span class="nav-item-icon">üë•</span>
                        Usu√°rios (MS)
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Ferramentas</div>
                    <a href="postman.html" class="nav-item">
                        <span class="nav-item-icon">üì°</span>
                        Postman Collections
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Arquitetura</div>
                    <a href="architecture-overview.html" class="nav-item">
                        <span class="nav-item-icon">üèóÔ∏è</span>
                        Vis√£o Geral
                    </a>
                    <a href="clean-architecture.html" class="nav-item">
                        <span class="nav-item-icon">üéØ</span>
                        Clean Architecture
                    </a>
                    <a href="data-modeling.html" class="nav-item">
                        <span class="nav-item-icon">üóÑÔ∏è</span>
                        Modelagem de Dados
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Sobre</div>
                    <a href="author.html" class="nav-item">
                        <span class="nav-item-icon">üë§</span>
                        Autor
                    </a>
                    <a href="license.html" class="nav-item">
                        <span class="nav-item-icon">üìÑ</span>
                        Licen√ßa
                    </a>
                    <a href="changelog.html" class="nav-item">
                        <span class="nav-item-icon">üìù</span>
                        Changelog
                    </a>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <nav class="breadcrumb">
                    <a href="../">Home</a>
                    <span>/</span>
                    <a href="#">Instala√ß√£o</a>
                    <span>/</span>
                    <span>Configura√ß√£o Local</span>
                </nav>
                <h1 class="page-title">‚öôÔ∏è Configura√ß√£o Local</h1>
                <p class="page-description">Configure o ambiente de desenvolvimento local</p>
            </header>

            <div class="content-body">
                <!-- Quick Setup -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">‚ö°</span>
                        <h2 class="card-title">Setup R√°pido</h2>
                    </div>
                    <div class="card-content">
                        <p>Configure o ambiente local em poucos passos:</p>

                        <div class="code-block">
                            <pre># 1. Clone o reposit√≥rio
git clone https://github.com/itmoura/fiap-tech-challenge-restaurants.git
cd fiap-tech-challenge-restaurants

# 2. Inicie o MongoDB
docker run -d --name mongodb -p 27017:27017 mongo:7.0

# 3. Configure as vari√°veis de ambiente
export MONGO_URI=mongodb://localhost:27017/restaurant_db
export SPRING_PROFILES_ACTIVE=local

# 4. Execute a aplica√ß√£o
./gradlew bootRun

# 5. Teste a API
curl http://localhost:8081/api/restaurants</pre>
                        </div>

                        <p class="mt-2">
                            üéâ <strong>Pronto!</strong> A API estar√° dispon√≠vel em 
                            <code>http://localhost:8081</code>
                        </p>
                    </div>
                </div>

                <!-- Environment Configuration -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üîß</span>
                        <h2 class="card-title">Configura√ß√£o de Ambiente</h2>
                    </div>
                    <div class="card-content">
                        <h3 class="mb-1">üìÑ Arquivo application-local.yml</h3>
                        <p>Crie ou edite o arquivo <code>src/main/resources/application-local.yml</code>:</p>

                        <div class="code-block">
                            <pre>server:
  port: 8081

spring:
  data:
    mongodb:
      uri: mongodb://localhost:27017/restaurant_db
      database: restaurant_db
  
  jackson:
    default-property-inclusion: non_null
    serialization:
      write-dates-as-timestamps: false

logging:
  level:
    com.fiap.itmoura.tech_challenge: DEBUG
    org.springframework.data.mongodb: DEBUG
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always</pre>
                        </div>

                        <h3 class="mb-1 mt-2">üåç Vari√°veis de Ambiente</h3>
                        <p>Configure as seguintes vari√°veis de ambiente:</p>

                        <table>
                            <thead>
                                <tr>
                                    <th>Vari√°vel</th>
                                    <th>Valor</th>
                                    <th>Descri√ß√£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>SPRING_PROFILES_ACTIVE</code></td>
                                    <td>local</td>
                                    <td>Perfil de desenvolvimento local</td>
                                </tr>
                                <tr>
                                    <td><code>MONGO_URI</code></td>
                                    <td>mongodb://localhost:27017/restaurant_db</td>
                                    <td>URI de conex√£o com MongoDB</td>
                                </tr>
                                <tr>
                                    <td><code>SERVER_PORT</code></td>
                                    <td>8081</td>
                                    <td>Porta da aplica√ß√£o</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- MongoDB Setup -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üçÉ</span>
                        <h2 class="card-title">Configura√ß√£o do MongoDB</h2>
                    </div>
                    <div class="card-content">
                        <h3 class="mb-1">üê≥ Op√ß√£o 1: Docker (Recomendado)</h3>
                        <div class="code-block">
                            <pre># Executar MongoDB em container
docker run -d \
  --name mongodb \
  -p 27017:27017 \
  -v mongodb_data:/data/db \
  mongo:7.0

# Verificar se est√° rodando
docker ps | grep mongodb

# Conectar ao MongoDB
docker exec -it mongodb mongosh</pre>
                        </div>

                        <h3 class="mb-1 mt-2">üíª Op√ß√£o 2: Instala√ß√£o Local</h3>
                        <div class="code-block">
                            <pre># Ubuntu/Debian
sudo apt-get install -y mongodb

# macOS
brew install mongodb-community@7.0

# Windows
# Baixar do site oficial: https://www.mongodb.com/try/download/community

# Iniciar servi√ßo
sudo systemctl start mongod  # Linux
brew services start mongodb-community@7.0  # macOS</pre>
                        </div>

                        <h3 class="mb-1 mt-2">‚úÖ Verifica√ß√£o</h3>
                        <div class="code-block">
                            <pre># Testar conex√£o
mongosh mongodb://localhost:27017

# Dentro do MongoDB shell
use restaurant_db
show collections
db.restaurants.find().limit(5)</pre>
                        </div>
                    </div>
                </div>

                <!-- IDE Configuration -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üí°</span>
                        <h2 class="card-title">Configura√ß√£o da IDE</h2>
                    </div>
                    <div class="card-content">
                        <div class="feature-cards">
                            <div class="feature-card">
                                <div class="feature-card-icon">üí°</div>
                                <h3 class="feature-card-title">IntelliJ IDEA</h3>
                                <p class="feature-card-description">
                                    IDE recomendada com suporte completo ao Spring Boot
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üìù</div>
                                <h3 class="feature-card-title">VS Code</h3>
                                <p class="feature-card-description">
                                    Editor leve com extens√µes Java e Spring Boot
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üåô</div>
                                <h3 class="feature-card-title">Eclipse</h3>
                                <p class="feature-card-description">
                                    IDE tradicional com Spring Tools Suite
                                </p>
                            </div>
                        </div>

                        <h3 class="mb-1 mt-2">üîß IntelliJ IDEA Setup</h3>
                        <div class="code-block">
                            <pre># 1. Importar projeto
File ‚Üí Open ‚Üí Selecionar pasta do projeto

# 2. Configurar JDK
File ‚Üí Project Structure ‚Üí Project ‚Üí SDK ‚Üí Java 21

# 3. Configurar perfil de execu√ß√£o
Run ‚Üí Edit Configurations ‚Üí Spring Boot
- Main class: com.fiap.itmoura.tech_challenge.TechChallengeApplication
- Environment variables: SPRING_PROFILES_ACTIVE=local
- VM options: -Dserver.port=8081

# 4. Habilitar hot reload
Settings ‚Üí Build ‚Üí Compiler ‚Üí Build project automatically
Settings ‚Üí Advanced Settings ‚Üí Allow auto-make to start</pre>
                        </div>

                        <h3 class="mb-1 mt-2">üìù VS Code Setup</h3>
                        <div class="code-block">
                            <pre># Extens√µes recomendadas
- Extension Pack for Java
- Spring Boot Extension Pack
- MongoDB for VS Code
- Thunder Client (para testar APIs)

# Configura√ß√£o launch.json
{
  "type": "java",
  "name": "Spring Boot-TechChallengeApplication",
  "request": "launch",
  "cwd": "${workspaceFolder}",
  "mainClass": "com.fiap.itmoura.tech_challenge.TechChallengeApplication",
  "projectName": "fiap-tech-challenge-restaurants",
  "args": "--spring.profiles.active=local --server.port=8081",
  "envFile": "${workspaceFolder}/.env"
}</pre>
                        </div>
                    </div>
                </div>

                <!-- Development Workflow -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üîÑ</span>
                        <h2 class="card-title">Fluxo de Desenvolvimento</h2>
                    </div>
                    <div class="card-content">
                        <h3 class="mb-1">üöÄ Desenvolvimento Di√°rio</h3>
                        <div class="code-block">
                            <pre># 1. Iniciar MongoDB
docker start mongodb

# 2. Executar aplica√ß√£o
./gradlew bootRun

# 3. Fazer altera√ß√µes no c√≥digo
# (Hot reload autom√°tico com Spring DevTools)

# 4. Testar endpoints
curl -X GET http://localhost:8081/api/restaurants

# 5. Executar testes
./gradlew test</pre>
                        </div>

                        <h3 class="mb-1 mt-2">üß™ Ciclo de Testes</h3>
                        <div class="code-block">
                            <pre># Executar testes unit√°rios
./gradlew test

# Executar testes de integra√ß√£o
./gradlew integrationTest

# Executar todos os testes
./gradlew check

# Gerar relat√≥rio de cobertura
./gradlew jacocoTestReport

# Ver relat√≥rio
open build/reports/jacoco/test/html/index.html</pre>
                        </div>

                        <h3 class="mb-1 mt-2">üîß Debug e Troubleshooting</h3>
                        <div class="code-block">
                            <pre># Executar com debug habilitado
./gradlew bootRun --debug-jvm

# Ou com par√¢metros espec√≠ficos
java -jar -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005 \
  build/libs/fiap-tech-challenge-restaurants-*.jar

# Logs detalhados
./gradlew bootRun -Dlogging.level.com.fiap.itmoura.tech_challenge=DEBUG</pre>
                        </div>
                    </div>
                </div>

                <!-- Database Management -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üóÑÔ∏è</span>
                        <h2 class="card-title">Gerenciamento do Banco</h2>
                    </div>
                    <div class="card-content">
                        <h3 class="mb-1">üîç MongoDB Compass</h3>
                        <p>Interface gr√°fica para gerenciar o MongoDB:</p>

                        <div class="code-block">
                            <pre># Baixar MongoDB Compass
# https://www.mongodb.com/products/compass

# Conectar
Connection String: mongodb://localhost:27017
Database: restaurant_db</pre>
                        </div>

                        <h3 class="mb-1 mt-2">üíª Linha de Comando</h3>
                        <div class="code-block">
                            <pre># Conectar ao MongoDB
mongosh mongodb://localhost:27017/restaurant_db

# Comandos √∫teis
show dbs                    # Listar databases
use restaurant_db          # Usar database
show collections           # Listar collections
db.restaurants.find()      # Buscar documentos
db.restaurants.countDocuments()  # Contar documentos

# Limpar dados de teste
db.restaurants.deleteMany({})
db.kitchenTypes.deleteMany({})</pre>
                        </div>

                        <h3 class="mb-1 mt-2">üìä Dados de Exemplo</h3>
                        <div class="code-block">
                            <pre># Inserir dados de teste via MongoDB shell
db.kitchenTypes.insertMany([
  { name: "ITALIAN", description: "Cozinha Italiana" },
  { name: "BRAZILIAN", description: "Cozinha Brasileira" },
  { name: "JAPANESE", description: "Cozinha Japonesa" }
])

db.restaurants.insertOne({
  name: "Restaurante Exemplo",
  description: "Descri√ß√£o do restaurante",
  kitchenType: "ITALIAN",
  address: {
    street: "Rua Exemplo, 123",
    city: "S√£o Paulo",
    state: "SP",
    zipCode: "01234-567"
  },
  menu: {
    categories: []
  }
})</pre>
                        </div>
                    </div>
                </div>

                <!-- API Testing -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üì°</span>
                        <h2 class="card-title">Teste da API</h2>
                    </div>
                    <div class="card-content">
                        <h3 class="mb-1">üîó Endpoints Principais</h3>
                        <div class="endpoint">
                            <span class="method method-get">GET</span>
                            <span class="endpoint-path">http://localhost:8081/api/restaurants</span>
                            <span class="endpoint-description">Listar restaurantes</span>
                        </div>
                        
                        <div class="endpoint">
                            <span class="method method-get">GET</span>
                            <span class="endpoint-path">http://localhost:8081/api/kitchen-types</span>
                            <span class="endpoint-description">Listar tipos de cozinha</span>
                        </div>

                        <div class="endpoint">
                            <span class="method method-get">GET</span>
                            <span class="endpoint-path">http://localhost:8081/actuator/health</span>
                            <span class="endpoint-description">Health check</span>
                        </div>

                        <h3 class="mb-1 mt-2">üì° Postman</h3>
                        <div class="code-block">
                            <pre># Importar collection
1. Abrir Postman
2. Import ‚Üí File ‚Üí Selecionar postman/collection.json
3. Configurar vari√°vel: baseUrl = http://localhost:8081</pre>
                        </div>

                        <h3 class="mb-1 mt-2">üíª cURL Examples</h3>
                        <div class="code-block">
                            <pre># Listar restaurantes
curl -X GET http://localhost:8081/api/restaurants

# Criar restaurante
curl -X POST http://localhost:8081/api/restaurants \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Novo Restaurante",
    "description": "Descri√ß√£o",
    "kitchenType": "ITALIAN",
    "address": {
      "street": "Rua Nova, 456",
      "city": "S√£o Paulo",
      "state": "SP",
      "zipCode": "01234-567"
    }
  }'

# Health check
curl -X GET http://localhost:8081/actuator/health</pre>
                        </div>
                    </div>
                </div>

                <!-- Troubleshooting -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üîß</span>
                        <h2 class="card-title">Troubleshooting</h2>
                    </div>
                    <div class="card-content">
                        <h3 class="mb-1">‚ùå Problemas Comuns</h3>
                        
                        <h4 class="mb-1 mt-2">üîå Porta 8081 j√° em uso</h4>
                        <div class="code-block">
                            <pre># Verificar o que est√° usando a porta
lsof -i :8081
netstat -tulpn | grep :8081

# Parar processo
kill -9 &lt;PID&gt;

# Ou usar porta diferente
./gradlew bootRun -Dserver.port=8082</pre>
                        </div>

                        <h4 class="mb-1 mt-2">üóÑÔ∏è Erro de conex√£o MongoDB</h4>
                        <div class="code-block">
                            <pre># Verificar se MongoDB est√° rodando
docker ps | grep mongodb
mongosh --eval "db.adminCommand('ping')"

# Reiniciar MongoDB
docker restart mongodb

# Verificar logs
docker logs mongodb</pre>
                        </div>

                        <h4 class="mb-1 mt-2">‚òï Problemas com Java</h4>
                        <div class="code-block">
                            <pre># Verificar vers√£o do Java
java -version
javac -version

# Verificar JAVA_HOME
echo $JAVA_HOME

# Limpar cache do Gradle
./gradlew clean
rm -rf ~/.gradle/caches</pre>
                        </div>

                        <h4 class="mb-1 mt-2">üèóÔ∏è Problemas de build</h4>
                        <div class="code-block">
                            <pre># Limpar e rebuildar
./gradlew clean build

# Executar com logs detalhados
./gradlew bootRun --info --debug

# Verificar depend√™ncias
./gradlew dependencies</pre>
                        </div>
                    </div>
                </div>

                <!-- Next Steps -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üöÄ</span>
                        <h2 class="card-title">Pr√≥ximos Passos</h2>
                    </div>
                    <div class="card-content">
                        <p>Agora que voc√™ tem o ambiente local configurado:</p>

                        <div class="feature-cards">
                            <div class="feature-card" data-link="testing.html">
                                <div class="feature-card-icon">üß™</div>
                                <h3 class="feature-card-title">Executar Testes</h3>
                                <p class="feature-card-description">
                                    Aprenda a executar e criar testes
                                </p>
                            </div>

                            <div class="feature-card" data-link="api-overview.html">
                                <div class="feature-card-icon">üìö</div>
                                <h3 class="feature-card-title">Explorar API</h3>
                                <p class="feature-card-description">
                                    Conhe√ßa todos os endpoints dispon√≠veis
                                </p>
                            </div>

                            <div class="feature-card" data-link="docker.html">
                                <div class="feature-card-icon">üê≥</div>
                                <h3 class="feature-card-title">Docker Setup</h3>
                                <p class="feature-card-description">
                                    Alternative com Docker Compose
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/main.js"></script>
</body>
</html>
