<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microservi√ßo de Usu√°rios - Tech Challenge</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üë•</text></svg>">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <a href="../" class="logo">
                    <span class="logo-icon">üçΩÔ∏è</span>
                    <div>
                        <div class="logo-text">Tech Challenge</div>
                        <div class="logo-subtitle">Restaurant API</div>
                    </div>
                </a>
            </div>
            
            <div class="nav-menu">
                <div class="nav-section">
                    <div class="nav-section-title">In√≠cio</div>
                    <a href="../" class="nav-item">
                        <span class="nav-item-icon">üè†</span>
                        Vis√£o Geral
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Instala√ß√£o</div>
                    <a href="prerequisites.html" class="nav-item">
                        <span class="nav-item-icon">üìã</span>
                        Pr√©-requisitos
                    </a>
                    <a href="local-setup.html" class="nav-item">
                        <span class="nav-item-icon">‚öôÔ∏è</span>
                        Configura√ß√£o Local
                    </a>
                    <a href="docker.html" class="nav-item">
                        <span class="nav-item-icon">üê≥</span>
                        Docker
                    </a>
                    <a href="testing.html" class="nav-item">
                        <span class="nav-item-icon">üß™</span>
                        Testes
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">API Reference</div>
                    <a href="api-overview.html" class="nav-item">
                        <span class="nav-item-icon">üìö</span>
                        Vis√£o Geral
                    </a>
                    <a href="kitchen-types.html" class="nav-item">
                        <span class="nav-item-icon">üë®‚Äçüç≥</span>
                        Kitchen Types
                    </a>
                    <a href="restaurants.html" class="nav-item">
                        <span class="nav-item-icon">üè™</span>
                        Restaurants
                    </a>
                    <a href="menu-categories.html" class="nav-item">
                        <span class="nav-item-icon">üìÇ</span>
                        Menu Categories
                    </a>
                    <a href="menu-items.html" class="nav-item">
                        <span class="nav-item-icon">üçï</span>
                        Menu Items
                    </a>
                    <a href="status-codes.html" class="nav-item">
                        <span class="nav-item-icon">üìä</span>
                        Status Codes
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Microservi√ßos</div>
                    <a href="user-microservice.html" class="nav-item active">
                        <span class="nav-item-icon">üë•</span>
                        Usu√°rios (MS)
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Arquitetura</div>
                    <a href="architecture-overview.html" class="nav-item">
                        <span class="nav-item-icon">üèóÔ∏è</span>
                        Vis√£o Geral
                    </a>
                    <a href="clean-architecture.html" class="nav-item">
                        <span class="nav-item-icon">üéØ</span>
                        Clean Architecture
                    </a>
                    <a href="data-modeling.html" class="nav-item">
                        <span class="nav-item-icon">üóÑÔ∏è</span>
                        Modelagem de Dados
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Sobre</div>
                    <a href="author.html" class="nav-item">
                        <span class="nav-item-icon">üë§</span>
                        Autor
                    </a>
                    <a href="license.html" class="nav-item">
                        <span class="nav-item-icon">üìÑ</span>
                        Licen√ßa
                    </a>
                    <a href="changelog.html" class="nav-item">
                        <span class="nav-item-icon">üìù</span>
                        Changelog
                    </a>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <nav class="breadcrumb">
                    <a href="../">Home</a>
                    <span>/</span>
                    <a href="#">Microservi√ßos</a>
                    <span>/</span>
                    <span>Usu√°rios</span>
                </nav>
                <h1 class="page-title">üë• Microservi√ßo de Usu√°rios</h1>
                <p class="page-description">Gest√£o de usu√°rios e tipos de usu√°rio - Porta 8080 (Futuro BFF)</p>
            </header>

            <div class="content-body">
                <!-- Important Notice -->
                <div class="card" style="border-left: 4px solid var(--accent-warning);">
                    <div class="card-header">
                        <span class="card-icon">‚ö†Ô∏è</span>
                        <h2 class="card-title">Microservi√ßo Separado</h2>
                    </div>
                    <div class="card-content">
                        <p><strong>Este √© um microservi√ßo independente</strong> que roda em <strong>porta 8080</strong> e ser√° futuramente o BFF (Backend for Frontend) do sistema.</p>
                        
                        <div class="feature-cards">
                            <div class="feature-card">
                                <div class="feature-card-icon">üîó</div>
                                <h3 class="feature-card-title">Reposit√≥rio</h3>
                                <p class="feature-card-description">
                                    <a href="https://github.com/itmoura/fiap-tech-challenge" target="_blank">github.com/itmoura/fiap-tech-challenge</a>
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üåê</div>
                                <h3 class="feature-card-title">Porta</h3>
                                <p class="feature-card-description">
                                    Roda na porta <strong>8080</strong> (diferente do Restaurant API)
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üîÆ</div>
                                <h3 class="feature-card-title">Futuro BFF</h3>
                                <p class="feature-card-description">
                                    Ser√° o Backend for Frontend do sistema distribu√≠do
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Overview -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üìã</span>
                        <h2 class="card-title">Sobre o Microservi√ßo</h2>
                    </div>
                    <div class="card-content">
                        <p>Microservi√ßo respons√°vel pela gest√£o de usu√°rios e tipos de usu√°rio, desenvolvido como parte do Tech Challenge da FIAP. Este microservi√ßo √© parte de um sistema distribu√≠do para gest√£o de restaurantes.</p>

                        <h3 class="mb-1 mt-2">‚ú® Funcionalidades Implementadas</h3>
                        <ul>
                            <li>‚úÖ <strong>Gest√£o de Tipos de Usu√°rio</strong>: CRUD completo para tipos de usu√°rio (Administrador, Cliente, Moderador)</li>
                            <li>‚úÖ <strong>Gest√£o de Usu√°rios</strong>: CRUD completo para usu√°rios com valida√ß√µes robustas</li>
                            <li>‚úÖ <strong>Associa√ß√£o de Usu√°rios com Tipos</strong>: Relacionamento entre usu√°rios e tipos de usu√°rio</li>
                            <li>‚úÖ <strong>Soft Delete</strong>: Desativa√ß√£o l√≥gica de usu√°rios e tipos</li>
                            <li>‚úÖ <strong>Pagina√ß√£o</strong>: Suporte a consultas paginadas</li>
                            <li>‚úÖ <strong>Busca Avan√ßada</strong>: Busca por email, tipo de usu√°rio, etc.</li>
                            <li>‚úÖ <strong>Altera√ß√£o de Senha</strong>: Funcionalidade segura para altera√ß√£o de senhas</li>
                            <li>‚úÖ <strong>Contadores</strong>: Estat√≠sticas de usu√°rios ativos por tipo</li>
                            <li>‚úÖ <strong>Migra√ß√µes Autom√°ticas</strong>: Sistema Flyway para cria√ß√£o autom√°tica do banco</li>
                            <li>‚úÖ <strong>Documenta√ß√£o da API</strong>: Swagger/OpenAPI integrado</li>
                            <li>‚úÖ <strong>Testes Automatizados</strong>: Testes unit√°rios e de integra√ß√£o com alta cobertura</li>
                            <li>‚úÖ <strong>Docker Compose</strong>: Configura√ß√£o para execu√ß√£o com PostgreSQL</li>
                        </ul>
                    </div>
                </div>

                <!-- Architecture -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üèóÔ∏è</span>
                        <h2 class="card-title">Arquitetura</h2>
                    </div>
                    <div class="card-content">
                        <p>O projeto segue uma arquitetura em camadas com as seguintes tecnologias:</p>

                        <div class="feature-cards">
                            <div class="feature-card">
                                <div class="feature-card-icon">üçÉ</div>
                                <h3 class="feature-card-title">Spring Boot 3.4.5</h3>
                                <p class="feature-card-description">
                                    Framework principal com Java 21
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üêò</div>
                                <h3 class="feature-card-title">PostgreSQL</h3>
                                <p class="feature-card-description">
                                    Banco relacional para produ√ß√£o / H2 para testes
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üîÑ</div>
                                <h3 class="feature-card-title">Flyway</h3>
                                <p class="feature-card-description">
                                    Migra√ß√µes autom√°ticas e versionamento do banco
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üîí</div>
                                <h3 class="feature-card-title">Spring Security</h3>
                                <p class="feature-card-description">
                                    Seguran√ßa com JWT tokens
                                </p>
                            </div>
                        </div>

                        <h3 class="mb-1 mt-2">üìÅ Estrutura do Projeto</h3>
                        <div class="code-block">
                            <pre>src/
‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îú‚îÄ‚îÄ java/com/fiap/itmoura/tech_challenge/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller/          # Controllers REST
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service/             # L√≥gica de neg√≥cio
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/          # Acesso a dados
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity/          # Entidades JPA
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dto/             # DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ enums/           # Enumera√ß√µes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/              # Configura√ß√µes (incluindo Flyway)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ exception/           # Exce√ß√µes customizadas
‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ       ‚îú‚îÄ‚îÄ db/migration/        # Scripts de migra√ß√£o Flyway
‚îÇ       ‚îî‚îÄ‚îÄ application.yml      # Configura√ß√µes
‚îî‚îÄ‚îÄ test/                        # Testes unit√°rios e integra√ß√£o</pre>
                        </div>
                    </div>
                </div>

                <!-- Quick Start -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üöÄ</span>
                        <h2 class="card-title">Como Executar</h2>
                    </div>
                    <div class="card-content">
                        <h3 class="mb-1">üê≥ Executando com Docker Compose (Recomendado)</h3>
                        <div class="code-block">
                            <pre># 1. Clone o reposit√≥rio
git clone https://github.com/itmoura/fiap-tech-challenge.git
cd fiap-tech-challenge
git checkout feature/novas-funcionalidades

# 2. Execute o Docker Compose
docker-compose up -d

# 3. A aplica√ß√£o estar√° dispon√≠vel em:
# - API: http://localhost:8080
# - Swagger UI: http://localhost:8080/swagger-ui.html
# - PostgreSQL: localhost:5432</pre>
                        </div>

                        <p class="mt-2">
                            üéØ <strong>Migra√ß√µes Autom√°ticas</strong>: O banco de dados ser√° criado automaticamente na primeira execu√ß√£o!
                        </p>

                        <h3 class="mb-1 mt-2">üíª Executando Localmente</h3>
                        <div class="code-block">
                            <pre># 1. Inicie o PostgreSQL
docker run -d --name postgres \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=root \
  -e POSTGRES_DB=tech_challenge \
  -p 5432:5432 postgres:latest

# 2. Execute a aplica√ß√£o
./gradlew bootRun</pre>
                        </div>

                        <p class="mt-2">
                            üìù <strong>Nota</strong>: As migra√ß√µes ser√£o executadas automaticamente na inicializa√ß√£o!
                        </p>
                    </div>
                </div>

                <!-- Database Migrations -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üóÑÔ∏è</span>
                        <h2 class="card-title">Sistema de Migra√ß√µes Autom√°ticas</h2>
                    </div>
                    <div class="card-content">
                        <p>O projeto utiliza <strong>Flyway</strong> para gerenciar migra√ß√µes autom√°ticas do banco de dados:</p>

                        <div class="feature-cards">
                            <div class="feature-card">
                                <div class="feature-card-icon">‚ö°</div>
                                <h3 class="feature-card-title">Execu√ß√£o Autom√°tica</h3>
                                <p class="feature-card-description">
                                    Migra√ß√µes executam na inicializa√ß√£o da aplica√ß√£o
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üî¢</div>
                                <h3 class="feature-card-title">Versionamento</h3>
                                <p class="feature-card-description">
                                    Scripts numerados garantem ordem de execu√ß√£o
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üîí</div>
                                <h3 class="feature-card-title">Idempot√™ncia</h3>
                                <p class="feature-card-description">
                                    Migra√ß√µes s√≥ executam se necess√°rio
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üìã</div>
                                <h3 class="feature-card-title">Hist√≥rico</h3>
                                <p class="feature-card-description">
                                    Hist√≥rico completo de migra√ß√µes aplicadas
                                </p>
                            </div>
                        </div>

                        <h3 class="mb-1 mt-2">üìä Migra√ß√µes Dispon√≠veis</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Vers√£o</th>
                                    <th>Arquivo</th>
                                    <th>Descri√ß√£o</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>V1</td>
                                    <td><code>V1__Create_type_users_table.sql</code></td>
                                    <td>Cria tabela <code>type_users</code> com tipos padr√£o</td>
                                </tr>
                                <tr>
                                    <td>V2</td>
                                    <td><code>V2__Create_address_table.sql</code></td>
                                    <td>Cria tabela <code>address</code> para endere√ßos</td>
                                </tr>
                                <tr>
                                    <td>V3</td>
                                    <td><code>V3__Create_users_table.sql</code></td>
                                    <td>Cria tabela <code>users</code> com relacionamentos</td>
                                </tr>
                                <tr>
                                    <td>V4</td>
                                    <td><code>V4__Initial_data_and_improvements.sql</code></td>
                                    <td>Dados iniciais e melhorias</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- API Endpoints -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üìö</span>
                        <h2 class="card-title">Endpoints da API</h2>
                    </div>
                    <div class="card-content">
                        <h3 class="mb-1">üë• Tipos de Usu√°rio</h3>
                        <div class="endpoint">
                            <span class="method method-get">GET</span>
                            <span class="endpoint-path">/api/type-users</span>
                            <span class="endpoint-description">Listar todos os tipos</span>
                        </div>
                        <div class="endpoint">
                            <span class="method method-get">GET</span>
                            <span class="endpoint-path">/api/type-users/{id}</span>
                            <span class="endpoint-description">Buscar por ID</span>
                        </div>
                        <div class="endpoint">
                            <span class="method method-post">POST</span>
                            <span class="endpoint-path">/api/type-users</span>
                            <span class="endpoint-description">Criar novo tipo</span>
                        </div>
                        <div class="endpoint">
                            <span class="method method-put">PUT</span>
                            <span class="endpoint-path">/api/type-users/{id}</span>
                            <span class="endpoint-description">Atualizar tipo</span>
                        </div>
                        <div class="endpoint">
                            <span class="method method-delete">DELETE</span>
                            <span class="endpoint-path">/api/type-users/{id}</span>
                            <span class="endpoint-description">Excluir tipo (soft delete)</span>
                        </div>

                        <h3 class="mb-1 mt-3">üë§ Usu√°rios</h3>
                        <div class="endpoint">
                            <span class="method method-get">GET</span>
                            <span class="endpoint-path">/api/users</span>
                            <span class="endpoint-description">Listar todos os usu√°rios</span>
                        </div>
                        <div class="endpoint">
                            <span class="method method-get">GET</span>
                            <span class="endpoint-path">/api/users/paginated</span>
                            <span class="endpoint-description">Listar usu√°rios paginados</span>
                        </div>
                        <div class="endpoint">
                            <span class="method method-get">GET</span>
                            <span class="endpoint-path">/api/users/{id}</span>
                            <span class="endpoint-description">Buscar por ID</span>
                        </div>
                        <div class="endpoint">
                            <span class="method method-get">GET</span>
                            <span class="endpoint-path">/api/users/email/{email}</span>
                            <span class="endpoint-description">Buscar por email</span>
                        </div>
                        <div class="endpoint">
                            <span class="method method-post">POST</span>
                            <span class="endpoint-path">/api/users</span>
                            <span class="endpoint-description">Criar novo usu√°rio</span>
                        </div>
                        <div class="endpoint">
                            <span class="method method-put">PUT</span>
                            <span class="endpoint-path">/api/users/{id}</span>
                            <span class="endpoint-description">Atualizar usu√°rio</span>
                        </div>
                        <div class="endpoint">
                            <span class="method method-delete">DELETE</span>
                            <span class="endpoint-path">/api/users/{id}</span>
                            <span class="endpoint-description">Desativar usu√°rio (soft delete)</span>
                        </div>
                        <div class="endpoint">
                            <span class="method method-post">PATCH</span>
                            <span class="endpoint-path">/api/users/{id}/change-password</span>
                            <span class="endpoint-description">Alterar senha</span>
                        </div>

                        <p class="mt-2">
                            üìö <strong>Documenta√ß√£o Completa</strong>: Acesse <a href="http://localhost:8080/swagger-ui.html" target="_blank">http://localhost:8080/swagger-ui.html</a>
                        </p>
                    </div>
                </div>

                <!-- Testing -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üß™</span>
                        <h2 class="card-title">Testes</h2>
                    </div>
                    <div class="card-content">
                        <p>O projeto possui uma su√≠te completa de testes com alta cobertura:</p>

                        <div class="feature-cards">
                            <div class="feature-card">
                                <div class="feature-card-icon">üß™</div>
                                <h3 class="feature-card-title">Testes Unit√°rios</h3>
                                <p class="feature-card-description">
                                    TypeUsersServiceTest e UserServiceTest (95+ cen√°rios)
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üîó</div>
                                <h3 class="feature-card-title">Testes de Integra√ß√£o</h3>
                                <p class="feature-card-description">
                                    Controllers com fluxos completos
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üìä</div>
                                <h3 class="feature-card-title">Cobertura 85%+</h3>
                                <p class="feature-card-description">
                                    Meta de 80%, atual 85%+ de cobertura
                                </p>
                            </div>
                        </div>

                        <h3 class="mb-1 mt-2">üöÄ Executando Testes</h3>
                        <div class="code-block">
                            <pre># Executar todos os testes
./gradlew test

# Gerar relat√≥rio de cobertura
./gradlew jacocoTestReport

# Verificar cobertura m√≠nima (80%)
./gradlew jacocoTestCoverageVerification</pre>
                        </div>
                    </div>
                </div>

                <!-- Integration Notice -->
                <div class="card" style="border-left: 4px solid var(--accent-secondary);">
                    <div class="card-header">
                        <span class="card-icon">üîó</span>
                        <h2 class="card-title">Integra√ß√£o com Restaurant API</h2>
                    </div>
                    <div class="card-content">
                        <p>Este microservi√ßo de usu√°rios complementa o Restaurant API:</p>

                        <div class="feature-cards">
                            <div class="feature-card">
                                <div class="feature-card-icon">üçΩÔ∏è</div>
                                <h3 class="feature-card-title">Restaurant API</h3>
                                <p class="feature-card-description">
                                    <strong>Porta 8081</strong> - Gest√£o de restaurantes e menus
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üë•</div>
                                <h3 class="feature-card-title">User API</h3>
                                <p class="feature-card-description">
                                    <strong>Porta 8080</strong> - Gest√£o de usu√°rios (futuro BFF)
                                </p>
                            </div>
                        </div>

                        <p class="mt-2">
                            üîÆ <strong>Futuro</strong>: Este microservi√ßo ser√° o BFF (Backend for Frontend) que orquestrar√° as chamadas para outros microservi√ßos do sistema.
                        </p>
                    </div>
                </div>

                <!-- Links -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üîó</span>
                        <h2 class="card-title">Links Importantes</h2>
                    </div>
                    <div class="card-content">
                        <div class="feature-cards">
                            <div class="feature-card">
                                <div class="feature-card-icon">üìÇ</div>
                                <h3 class="feature-card-title">Reposit√≥rio</h3>
                                <p class="feature-card-description">
                                    <a href="https://github.com/itmoura/fiap-tech-challenge" target="_blank">GitHub Repository</a>
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üìö</div>
                                <h3 class="feature-card-title">Swagger UI</h3>
                                <p class="feature-card-description">
                                    <a href="http://localhost:8080/swagger-ui.html" target="_blank">API Documentation</a>
                                </p>
                            </div>

                            <div class="feature-card">
                                <div class="feature-card-icon">üì°</div>
                                <h3 class="feature-card-title">Postman Collection</h3>
                                <p class="feature-card-description">
                                    Collection dispon√≠vel no reposit√≥rio
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/main.js"></script>
</body>
</html>
