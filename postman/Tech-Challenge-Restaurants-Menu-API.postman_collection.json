{
  "info": {
    "name": "Tech Challenge - Restaurants Menu API",
    "description": "API para gerenciamento de restaurantes com endpoints específicos para menu e itens",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8081",
      "type": "string"
    },
    {
      "key": "restaurantId",
      "value": "550e8400-e29b-41d4-a716-446655440000",
      "type": "string"
    },
    {
      "key": "menuId",
      "value": "550e8400-e29b-41d4-a716-446655440001",
      "type": "string"
    },
    {
      "key": "itemId",
      "value": "550e8400-e29b-41d4-a716-446655440002",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Restaurants",
      "item": [
        {
          "name": "Create Restaurant",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Restaurante do João\",\n  \"address\": \"Rua das Flores, 123\",\n  \"kitchenType\": {\n    \"name\": \"Japonesa\",\n    \"description\": \"Cozinha Japonesa Tradicional\"\n  },\n  \"daysOperation\": [\n    {\n      \"day\": \"MONDAY\",\n      \"openingHours\": \"18:00\",\n      \"closingHours\": \"23:00\"\n    },\n    {\n      \"day\": \"TUESDAY\",\n      \"openingHours\": \"18:00\",\n      \"closingHours\": \"23:00\"\n    },\n    {\n      \"day\": \"WEDNESDAY\",\n      \"openingHours\": \"18:00\",\n      \"closingHours\": \"23:00\"\n    },\n    {\n      \"day\": \"THURSDAY\",\n      \"openingHours\": \"18:00\",\n      \"closingHours\": \"23:00\"\n    },\n    {\n      \"day\": \"FRIDAY\",\n      \"openingHours\": \"18:00\",\n      \"closingHours\": \"00:00\"\n    },\n    {\n      \"day\": \"SATURDAY\",\n      \"openingHours\": \"18:00\",\n      \"closingHours\": \"00:00\"\n    }\n  ],\n  \"ownerId\": \"550e8400-e29b-41d4-a716-446655440003\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/restaurants",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Restaurants (Basic)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/restaurants",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Restaurants (Full with Menu)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/full",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "full"]
            }
          },
          "response": []
        },
        {
          "name": "Get Restaurant by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update Restaurant",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Restaurante do João - Atualizado\",\n  \"address\": \"Rua das Flores, 456\",\n  \"kitchenType\": {\n    \"name\": \"Japonesa\",\n    \"description\": \"Cozinha Japonesa Premium\"\n  },\n  \"daysOperation\": [\n    {\n      \"day\": \"MONDAY\",\n      \"openingHours\": \"17:00\",\n      \"closingHours\": \"23:30\"\n    }\n  ],\n  \"ownerId\": \"550e8400-e29b-41d4-a716-446655440003\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Restaurant",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Menu Categories",
      "item": [
        {
          "name": "Create Menu Category",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"Sushi\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}/menu",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}", "menu"]
            }
          },
          "response": []
        },
        {
          "name": "Update Menu Category",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"Sushi Premium\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}/menu/{{menuId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}", "menu", "{{menuId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get Menu Category",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}/menu/{{menuId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}", "menu", "{{menuId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Menu Category",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}/menu/{{menuId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}", "menu", "{{menuId}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Menu Items",
      "item": [
        {
          "name": "Create Menu Item",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Combo Salmão\",\n  \"description\": \"10 peças de sushi de salmão fresco com wasabi e shoyu\",\n  \"price\": 45.90,\n  \"onlyForLocalConsumption\": false,\n  \"imagePath\": \"/images/combo-salmao.jpg\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}/menu/{{menuId}}/item",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}", "menu", "{{menuId}}", "item"]
            }
          },
          "response": []
        },
        {
          "name": "Update Menu Item",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Combo Salmão Premium\",\n  \"description\": \"12 peças de sushi de salmão premium com wasabi especial\",\n  \"price\": 55.90,\n  \"onlyForLocalConsumption\": false,\n  \"imagePath\": \"/images/combo-salmao-premium.jpg\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}/menu/{{menuId}}/item/{{itemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}", "menu", "{{menuId}}", "item", "{{itemId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Menu Item",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}/menu/{{menuId}}/item/{{itemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}", "menu", "{{menuId}}", "item", "{{itemId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get Menu Item by ID (with context)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/menu/item/{{itemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "menu", "item", "{{itemId}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Examples - Complete Flow",
      "item": [
        {
          "name": "1. Create Restaurant",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('restaurantId', response.id);",
                  "    console.log('Restaurant ID saved:', response.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Sushi Zen\",\n  \"address\": \"Rua da Liberdade, 123\",\n  \"kitchenType\": {\n    \"name\": \"Japonesa\",\n    \"description\": \"Cozinha Japonesa Tradicional\"\n  },\n  \"daysOperation\": [\n    {\n      \"day\": \"MONDAY\",\n      \"openingHours\": \"18:00\",\n      \"closingHours\": \"23:00\"\n    },\n    {\n      \"day\": \"FRIDAY\",\n      \"openingHours\": \"18:00\",\n      \"closingHours\": \"00:00\"\n    },\n    {\n      \"day\": \"SATURDAY\",\n      \"openingHours\": \"18:00\",\n      \"closingHours\": \"00:00\"\n    }\n  ],\n  \"ownerId\": \"550e8400-e29b-41d4-a716-446655440010\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/restaurants",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants"]
            }
          },
          "response": []
        },
        {
          "name": "2. Create Menu Category - Sushi",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('menuId', response.id);",
                  "    console.log('Menu Category ID saved:', response.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"Sushi\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}/menu",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}", "menu"]
            }
          },
          "response": []
        },
        {
          "name": "3. Create Menu Item - Combo Salmão",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('itemId', response.id);",
                  "    console.log('Menu Item ID saved:', response.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Combo Salmão\",\n  \"description\": \"10 peças de sushi de salmão fresco com wasabi e shoyu\",\n  \"price\": 45.90,\n  \"onlyForLocalConsumption\": false,\n  \"imagePath\": \"/images/combo-salmao.jpg\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}/menu/{{menuId}}/item",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}", "menu", "{{menuId}}", "item"]
            }
          },
          "response": []
        },
        {
          "name": "4. Create Another Menu Item - Combo Atum",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Combo Atum\",\n  \"description\": \"10 peças de sushi de atum fresco\",\n  \"price\": 52.90,\n  \"onlyForLocalConsumption\": false,\n  \"imagePath\": \"/images/combo-atum.jpg\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}/menu/{{menuId}}/item",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}", "menu", "{{menuId}}", "item"]
            }
          },
          "response": []
        },
        {
          "name": "5. Create Another Category - Bebidas",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"Bebida\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}/menu",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}", "menu"]
            }
          },
          "response": []
        },
        {
          "name": "6. Get Restaurant with Full Menu",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/{{restaurantId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "{{restaurantId}}"]
            }
          },
          "response": []
        },
        {
          "name": "7. Get Menu Item with Context",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/restaurants/menu/item/{{itemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "restaurants", "menu", "item", "{{itemId}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Health Check",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/actuator/health",
              "host": ["{{baseUrl}}"],
              "path": ["actuator", "health"]
            }
          },
          "response": []
        },
        {
          "name": "Swagger UI",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/swagger-ui.html",
              "host": ["{{baseUrl}}"],
              "path": ["swagger-ui.html"]
            }
          },
          "response": []
        }
      ]
    }
  ]
}
